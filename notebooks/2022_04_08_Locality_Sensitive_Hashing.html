
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Locality Sensitive Hashing &#8212; CS328-2022 Notes</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Finding Near Neighbors" href="2022_04_07_Near_Neighbors.html" />
    <link rel="prev" title="Flajolet-Martin Sketch" href="2022_04_04_Flajolet_Martin_Algorithm.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CS328-2022 Notes</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Course Description
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Logistics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="CONTRIBUTING.html">
   Contributing to CS328 Notes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deadlines.html">
   Deadlines
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Foundations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_03_data_representations.html">
   Data Representations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_03_data_representations_notebook.html">
   [CODE] üßë‚ÄçüíªData Representations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_03_distance_function.html">
   Distance Function
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_06_object_representations_notebook.html">
   Object Representations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_10_central_limit_theorem_notebook.html">
   Central Limit Theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_11_markov_chebyshev_inequalities.html">
   Markov and Chebyshev Inequalities
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_13_chernoff_bound.html">
   Chernoff Bound
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_13_chernoff_bound_tails.html">
   Plot of chernoff bound
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Clustering and low-rank approximations
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_17_Clustering.html">
   Clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_24_K-means.html">
   K-means
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_25_K-means%2B%2B.html">
   Lloyd‚Äôs algorithm, convergence?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_27_Hierarchial_Clustering.html">
   Why does k-means++ work?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_01_31_HierarchialClustering_LinkagebasedClusturing.html">
   Hierarchical Clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_01_DensestSubgraph_Maxflowalgorithm.html">
   Densest Subgraphs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_03_Greedy_algorithm_for_Densest_subgraphs.html">
   Densest Subgraph
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_10_Expansion_Conductance_Graphs_Sparset_Cut.html">
   Expansion and Conductance of a Graph
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_14_GraphLaplacian.html">
   Graph Laplacian and its Eigenvalues
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_15_Relation_between_second_eigenvalue_of_Laplacian_and_Spectral_Clustering.html">
   Relation between second eigenvalue of Laplacian and Spectral Clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_14_singular_value_decomposition.html">
   Singular Valued Decomposition (SVD)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_15_geometric_svd.html">
   Applications of SVD
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_17_SVD_in_Mixture_Models.html">
   SVD in Gaussian Mixture Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_22_Frobenius_Norm_and_Low_Rank_Approaximation.html">
   Frobenius Norm and Low Rank Approaximation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_17_Mixture_Models.html">
   Mixture Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_02_21_Chi_Squared_Distribution%2C_Gaussian_Annulus_Theorem%2C_Distance_between_points_sampled_from_a_distribution.html">
   Gaussian Annulus Theorem
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_04_07_Building_LSH_Tables.html">
   Building LSH Table
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_04_10_DistinctCount_BloomFilters.html">
   Bloom Filters
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_24_Low_rank_approximation_Mixture_Models%20_and_Recommendation%20systems.html">
   Low rank approximation in Mixture Models and Recommendation systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_25_Streamingmodels_and_answering_inclusion_queries.html">
   Streaming Models and Answering Inclusion Queries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_03_31_Linear_Counting.html">
   Linear Counting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_04_04_Flajolet_Martin_Algorithm.html">
   Flajolet-Martin Sketch
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Selected topics from NPTEL-Scalable Data Science Course
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Locality Sensitive Hashing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_04_07_Near_Neighbors.html">
   Finding Near Neighbors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2022_04_07_Randomized_Numerical_Linear_Algebra_Random_Projection.html">
   Randomized Numerical Linear Algebra: Random Projection
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/2022_04_08_Locality_Sensitive_Hashing.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/cs328-2022/CS328-Notes"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/cs328-2022/CS328-Notes/issues/new?title=Issue%20on%20page%20%2Fnotebooks/2022_04_08_Locality_Sensitive_Hashing.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/cs328-2022/CS328-Notes/edit/main/CS328-Notes/notebooks/2022_04_08_Locality_Sensitive_Hashing.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/cs328-2022/CS328-Notes/main?urlpath=lab/tree/CS328-Notes/notebooks/2022_04_08_Locality_Sensitive_Hashing.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/cs328-2022/CS328-Notes/blob/main/CS328-Notes/notebooks/2022_04_08_Locality_Sensitive_Hashing.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-of-a-document-as-sets">
   Representation of a document as Sets
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#separation-of-the-elements-in-the-set">
     Separation of the elements in the set
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#measure-of-similarity">
     Measure of Similarity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-of-documents-as-vector">
   Representation of Documents as Vector
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#similarity-between-documents">
   Similarity between Documents
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#locality-sensitive-property">
   Locality Sensitive property
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hamming-distance">
   Hamming Distance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#locality-sensitive-function-for-this-distance">
     Locality Sensitive function for this distance?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#existence-of-locality-sensitive-hashing">
   Existence of Locality Sensitive Hashing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#locality-sensitive-hashing-for-angle-distance">
   Locality Sensitive Hashing for Angle Distance
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Locality Sensitive Hashing</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-of-a-document-as-sets">
   Representation of a document as Sets
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#separation-of-the-elements-in-the-set">
     Separation of the elements in the set
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#measure-of-similarity">
     Measure of Similarity
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#representation-of-documents-as-vector">
   Representation of Documents as Vector
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#similarity-between-documents">
   Similarity between Documents
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#locality-sensitive-property">
   Locality Sensitive property
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hamming-distance">
   Hamming Distance
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#locality-sensitive-function-for-this-distance">
     Locality Sensitive function for this distance?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#existence-of-locality-sensitive-hashing">
   Existence of Locality Sensitive Hashing
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#locality-sensitive-hashing-for-angle-distance">
   Locality Sensitive Hashing for Angle Distance
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="locality-sensitive-hashing">
<h1>Locality Sensitive Hashing<a class="headerlink" href="#locality-sensitive-hashing" title="Permalink to this headline">¬∂</a></h1>
<p><strong>Finding Nearest Points</strong>: Given a set of data points and a query data point, we have to find the data point closest to this query point. We also have to find the K-nearest neighbours or some set of points which satisfy the condition
<span class="math notranslate nohighlight">\(d(p,query)  &lt; r\)</span>, where r is some given distance.<br />
This point may be a representation of a multiset or a vector which represents a  document.</p>
<p><strong>If we are taking the datapoints as a part of a document, the near points  represent similarity within a document.</strong><br />
The words in the documents need to be represented in some mathematical entity.</p>
<div class="section" id="representation-of-a-document-as-sets">
<h2>Representation of a document as Sets<a class="headerlink" href="#representation-of-a-document-as-sets" title="Permalink to this headline">¬∂</a></h2>
<p>Any document is represented by the words it contains. The words may be represented by their position on the document, but the spatial orientation of the words is not a very useful attribute of the representation.<br />
Thus the document is represented by the set of words it consists.</p>
<div class="section" id="separation-of-the-elements-in-the-set">
<h3>Separation of the elements in the set<a class="headerlink" href="#separation-of-the-elements-in-the-set" title="Permalink to this headline">¬∂</a></h3>
<p>Natural separators are not always reliable for a document. Thus a document is separated into Shingles.<br />
<strong>Shingles are a set of k consecutive characters that make up the entire document.</strong> These Shingles are often hashed to 64bit numbers for each of storage.<br />
A document = Set of Shingles</p>
<p>Example: A Sly fox jumped<br />
<span class="math notranslate nohighlight">\(k=5\)</span><br />
Shingles:<br />
a sly<br />
sly f<br />
ly fo<br />
.<br />
.<br />
.</p>
<p>Shingles are more appropriate method of separation because, they represent and preserve the semantics of a document. Most of the time, while comparing the document, we have to take into account the semantic similarity.</p>
</div>
<div class="section" id="measure-of-similarity">
<h3>Measure of Similarity<a class="headerlink" href="#measure-of-similarity" title="Permalink to this headline">¬∂</a></h3>
<p>Jaccard Similarity <span class="math notranslate nohighlight">\(JS(A,B) =  \frac {|A \cap B|} {|A \cup B|}\)</span></p>
<p><span class="math notranslate nohighlight">\(JS(A,B) \in [0,1]\)</span></p>
<p>Jaccard Distcance : <span class="math notranslate nohighlight">\(JD(A,B) = 1 - JS(A,B)\)</span></p>
<p><span class="math notranslate nohighlight">\(JD(A,B) \in [0,1]\)</span></p>
<p>Jaccard Distance is a metric property. It satisfies the following :<br />
1.<br />
<span class="math notranslate nohighlight">\(JD(A,A) = 1-  \frac {|A \cap A|} {|A \cup A|}\)</span><br />
<span class="math notranslate nohighlight">\(JD(A,A) = 1-  1\)</span><br />
<span class="math notranslate nohighlight">\(JD(A,A) = 0\)</span></p>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(JD(A,B) = 1-  \frac {|A \cap B|} {|A \cup B|}\)</span><br />
<span class="math notranslate nohighlight">\(JD(A,B) = 1-  \frac {|B \cap A|} {|B \cup A|}\)</span><br />
<span class="math notranslate nohighlight">\(JD(A,B) = 1-JS(B,A)\)</span><br />
<span class="math notranslate nohighlight">\(JD(A,B) = JD(B,A)\)</span><br />
Jaccard Distance is symmetric</p></li>
</ol>
<ol class="simple">
<li><p>JD(x,y) can only lie between 0 and 1. Thus <span class="math notranslate nohighlight">\(JD(A,B) \ge 0\)</span></p></li>
</ol>
<ol class="simple">
<li><p><span class="math notranslate nohighlight">\(JD(A,C) &lt; JD(A,B) + JD(A,C)\)</span><br />
Triangle inequality is also satisfied by Jaccard distance.</p></li>
</ol>
</div>
</div>
<div class="section" id="representation-of-documents-as-vector">
<h2>Representation of Documents as Vector<a class="headerlink" href="#representation-of-documents-as-vector" title="Permalink to this headline">¬∂</a></h2>
<p>Vectors can be used in various instances for representation. They can be used to represent an image (over 64x64 or 128x128 domains) or the spatial distribution of data. Their use can also be extended to documents</p>
<p>In Documents, the vector representation is similar to that of sets. Each vector direction represents the position of a shingle in the document and the magnitude can be related to the weightage of the shingle.</p>
</div>
<div class="section" id="similarity-between-documents">
<h2>Similarity between Documents<a class="headerlink" href="#similarity-between-documents" title="Permalink to this headline">¬∂</a></h2>
<p>Given any Document, if we pass the shingles through a hash function and compare the hash values, we can get the values where shingles are exactly same. But there is no way we can say that two shingles are similar through the same approach.<br />
Example:<br />
x= acted , y= acted , z= acced<br />
The Hash function would easily detect that x and y are exact but not detect that x and z are 80 % similar</p>
</div>
<div class="section" id="locality-sensitive-property">
<h2>Locality Sensitive property<a class="headerlink" href="#locality-sensitive-property" title="Permalink to this headline">¬∂</a></h2>
<p>The exact equality of the two shingles are detected because they are assigned to the same index by the hash function. Taking this idea, <strong>Indyk Motwani</strong> repuroposed the occurance of collisions in the hash functions, i.e., if two entities x and y are similar, they collide (same value is produced by the hash function) and not if they are vastly different.<br />
Relating to our earlier problem of finding nearest points. If two points in a space are nearby, the chances of collision is high.<br />
<span class="math notranslate nohighlight">\(Pr[h(x)=h(y)] \)</span> is high if x and y are close<br />
<span class="math notranslate nohighlight">\(Pr[h(x)=h(y)] \)</span> is low if x and y are far apart</p>
<p>Such kind of function will solve both the problems, however no such clear function exists. To slove such problems, a hash family is designed, given the distance function or similarity function.<br />
At runtine, a single hash function is chosen from this family to calculate the similarity.</p>
<p>This function is then called Locality sensitive if the above two probabilities is satisfied.</p>
<p>In Terms of similarity function, given a universe U, and siilarity s:U x U -&gt; [0,1], does there exist a probability distribution over some hash family H such that<br />
<span class="math notranslate nohighlight">\(Pr[h(x)=h(y)] = S(x,y)\)</span><br />
<span class="math notranslate nohighlight">\(S(x,y) =1 \Rightarrow x=y\)</span><br />
<span class="math notranslate nohighlight">\(S(x,y) = S(x,y)\)</span></p>
</div>
<div class="section" id="hamming-distance">
<h2>Hamming Distance<a class="headerlink" href="#hamming-distance" title="Permalink to this headline">¬∂</a></h2>
<p>Used when the points are denoted by a bit string of fixed and equal length.<br />
point <span class="math notranslate nohighlight">\(\to\)</span> bit string of length d.<br />
H(x,y) = {i, <span class="math notranslate nohighlight">\(x_{i} \neq y_{i}\)</span>}<br />
<span class="math notranslate nohighlight">\(S_{H}(x,y) = 1-\frac {H(x,y)} {d}\)</span></p>
<p>For Example: x=1011010001, y= 0111010101<br />
d=10
number of dissimilarities H(x,y) =3<br />
S(x,y) = 1-3/10 =0.7</p>
<div class="section" id="locality-sensitive-function-for-this-distance">
<h3>Locality Sensitive function for this distance?<a class="headerlink" href="#locality-sensitive-function-for-this-distance" title="Permalink to this headline">¬∂</a></h3>
<p>In order to create a LSH for such a problem, the hash family must be sampling a set of positions. Let the be a hash family such that<br />
H ={<span class="math notranslate nohighlight">\(h_{i}(x)=x_{i} | i=1,2... d\)</span>}<br />
|H| = d<br />
From this family H, a function h is chosen randomy to achieve the probability of similarity.
<span class="math notranslate nohighlight">\(Pr_{h\in H}[h(x)=h(y)] = S(x,y)\)</span></p>
<p>If we extend the dame function to k coordinates instead of 1, we get a more precise equation. In the above example itself, let S={1,5,7}</p>
</div>
</div>
<div class="section" id="existence-of-locality-sensitive-hashing">
<h2>Existence of Locality Sensitive Hashing<a class="headerlink" href="#existence-of-locality-sensitive-hashing" title="Permalink to this headline">¬∂</a></h2>
<p>Since we are choosing k-coordinates, where k = |S| and we know that for a single coordinate:</p>
<p>Pr[h(x) = h(y)] = 1 - <span class="math notranslate nohighlight">\(\frac{H(x,y)} {d} = S_{h}(x,y)\)</span></p>
<p>The Probability for k coordinates:</p>
<p>Pr[h(x) = h(y)] = <span class="math notranslate nohighlight">\((1 - \frac{H(x,y} {d})^{k} = (S_{H}(x,y))^{k}\)</span></p>
</div>
<div class="section" id="locality-sensitive-hashing-for-angle-distance">
<h2>Locality Sensitive Hashing for Angle Distance<a class="headerlink" href="#locality-sensitive-hashing-for-angle-distance" title="Permalink to this headline">¬∂</a></h2>
<p><img alt="img" src="../_images/LSH.png" /></p>
<p>Let x and y be unit normal vectors, i.e. radii in a circle of radius 1.</p>
<p>Therefore, |x| = |y| = 1</p>
<p>x,y = |x||y|cos<span class="math notranslate nohighlight">\(Œ∏\)</span></p>
<p><span class="math notranslate nohighlight">\(‚áí\)</span> x.y = cos<span class="math notranslate nohighlight">\(Œ∏\)</span></p>
<p><span class="math notranslate nohighlight">\(\theta = cos^{-1}(x.y) = d(x,y)\)</span> [angle distance]</p>
<p>Since, the total angular distance in a circle is [-x,x]</p>
<p>S(x,y) = 1 - <span class="math notranslate nohighlight">\(\frac {\theta} {x} \in\)</span>  [0,1]</p>
<p>Corresponding notion of local sensitivity hashing:</p>
<p>Choose a normal vector v at random</p>
<p>Now, <span class="math notranslate nohighlight">\(h_{v}\)</span>(x) = sign(v.x) = <span class="math notranslate nohighlight">\(¬±1\)</span>  (or ‚Äò1‚Äô and ‚Äò0‚Äô in binary)</p>
<p>Let P be a hyperplane <span class="math notranslate nohighlight">\(\perp\)</span> to v</p>
<p>Then, the half containing <span class="math notranslate nohighlight">\(\vec{v}\)</span> yields +1 and the other half yields -1</p>
<p>Pr[h(x) = h(y)] = 1 - <span class="math notranslate nohighlight">\(\frac {\theta} {x}\)</span></p>
<p>The hyperplane gives different signs for x and y if it passes through <span class="math notranslate nohighlight">\(\theta\)</span> with probability <span class="math notranslate nohighlight">\(\frac {\theta} {x}\)</span></p>
<p>Thus the probability of x and y giving some signs is 1 - <span class="math notranslate nohighlight">\(\frac {\theta} {x}\)</span></p>
<p>Aside : Picking a direction u.a.r</p>
<ol class="simple">
<li><p>Picking a vector in d-dimensions (x <span class="math notranslate nohighlight">\(\in\)</span> R<span class="math notranslate nohighlight">\(^d\)</span>) such that norm of x = 1 (|x|<span class="math notranslate nohighlight">\(_{2}\)</span> = 1)
and, the direction is uniform along all possible directions</p></li>
<li><p>Take the Gaussian distribution and generate d independent samples.</p></li>
</ol>
<p>x = (<span class="math notranslate nohighlight">\(x_{1},x_{2}, ..... x_{d}) \thicksim  N(0,1)\)</span></p>
<ol class="simple">
<li><p>Normalize it with the length of the vector <span class="math notranslate nohighlight">\((\frac {x} {|x|_{2}})\)</span></p></li>
</ol>
<p>L<span class="math notranslate nohighlight">\(_{2}\)</span> norm of x = <span class="math notranslate nohighlight">\(\sqrt{\Sigma x_{i}^2} \)</span></p>
<ol class="simple">
<li><p>Writing the equation in polar form gives us independent r and <span class="math notranslate nohighlight">\(Œ∏\)</span>.
With r normalized, we are left with a uniformly chosen direction.</p></li>
</ol>
<footer>
Authors: Kanishk Singh , Krishnam Hasija , Paras Gupta , Shreyshi Singh
</footer></div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "cs328-2022/CS328-Notes",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="2022_04_04_Flajolet_Martin_Algorithm.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Flajolet-Martin Sketch</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="2022_04_07_Near_Neighbors.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Finding Near Neighbors</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Students of CS328 2022<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>